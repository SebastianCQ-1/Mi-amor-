<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Te Amo ❤️</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: radial-gradient(circle at center, #0c0c14 0%, #06060a 100%);
    }

    canvas {
      display: block;
    }

    /* Título centrado arriba */
    h1 {
      position: fixed;
      top: 20px;
      width: 100%;
      text-align: center;
      color: #ff6b6b;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 2.2rem;
      text-shadow: 0 0 15px rgba(255, 107, 107, 0.7);
      z-index: 10;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <h1>Te Amo</h1>

  <!-- SVG oculto solo para generar la ruta -->
  <svg viewBox="0 0 600 552" style="display: none;">
    <path d="M300,520 C50,350 0,200 150,120 C240,70 300,120 300,160 C300,120 360,70 450,120 C600,200 550,350 300,520 Z"/>
  </svg>

  <!-- Librerías externas -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r155/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r155/examples/js/controls/OrbitControls.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

  <script>
    console.clear();

    /* SETUP */
    const scene = new THREE.Scene();

    const camera = new THREE.PerspectiveCamera(
      75,
      window.innerWidth / window.innerHeight,
      0.1,
      5000
    );
    camera.position.z = 500;

    const renderer = new THREE.WebGLRenderer();
    renderer.setPixelRatio(window.devicePixelRatio > 1 ? 2 : 1);
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    /* CONTROLS */
    const controlsWebGL = new THREE.OrbitControls(camera, renderer.domElement);

    /* PARTICLES */
    const tl = gsap.timeline({
      repeat: -1,
      yoyo: true
    });

    const path = document.querySelector("path");
    const length = path.getTotalLength();

    const vertices = [];

    for (let i = 0; i < length; i += 0.1) {
      const point = path.getPointAtLength(i);

      const vector = new THREE.Vector3(point.x, -point.y, 0);

      // Variación para darle volumen
      vector.x += (Math.random() - 0.5) * 30;
      vector.y += (Math.random() - 0.5) * 30;
      vector.z += (Math.random() - 0.5) * 70;

      vertices.push(vector);

      // Animación de entrada
      tl.from(
        vector,
        {
          x: 600 / 2,    // centro X
          y: -552 / 2,   // centro Y
          z: 0,          // centro Z
          ease: "power2.inOut",
          duration: gsap.utils.random(2, 5)
        },
        i * 0.002
      );
    }

    const geometry = new THREE.BufferGeometry().setFromPoints(vertices);

    const material = new THREE.PointsMaterial({
      color: 0xee5282,
      blending: THREE.AdditiveBlending,
      size: 3
    });

    const particles = new THREE.Points(geometry, material);

    // Ajuste para centrar el corazón
    particles.position.x -= 600 / 2;
    particles.position.y += 552 / 2;
    scene.add(particles);

    // Animación de rotación
    gsap.fromTo(
      scene.rotation,
      { y: -0.2 },
      {
        y: 0.2,
        repeat: -1,
        yoyo: true,
        ease: "power2.inOut",
        duration: 3
      }
    );

    /* RENDER LOOP */
    function render() {
      requestAnimationFrame(render);
      geometry.setFromPoints(vertices); // actualizar geometría animada
      renderer.render(scene, camera);
    }
    render();

    /* RESIZE */
    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    window.addEventListener('resize', onWindowResize);
  </script>
</body>
</html>




